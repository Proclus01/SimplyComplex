<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style/normalize.css" />
    <link rel="stylesheet" href="style/main.css" />
    <link rel="stylesheet" href="style/tutorial.css"/>

    <link rel="manifest" href="SimplyComplex.webmanifest" />

    <link rel="icon" type="image/x-icon" href="icons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png" />

    <link rel="manifest" href="site.webmanifest" />
    <title>Simply Complex</title>

    <script src="js/fengari-web.js" type="text/javascript" async></script>
</head>
<body>
    <header>
        <h1>Simply‚ÑÇomplex</h1>
    </header>

    <main>
        <div id="app">
            <div id="boards">
                <div class="board-container">
                    <div id="toolbar" class="toolbar">
                        <toolcool-color-picker color="#e44444" button-width="2rem" button-height="2rem" id="strokeColor"></toolcool-color-picker>
                        <div id="penSizeButtons">
                            <button class="toolbar-button" id="smallPen" value="3"><canvas></canvas></button>
                            <button class="toolbar-button" id="medPen" value="5"><canvas></canvas></button>
                            <button class="toolbar-button" id="largePen" value="8"><canvas></canvas></button>
                        </div>
                        <button id="clear" class="toolbar-button"></button>
                        <button id="undo" class="toolbar-button"></button>
                    </div>
                    <canvas id="inputBoard"></canvas>
                </div>
                <div id="arrowParent">
                    <div id="funcForm">
                        <label for="func">ùëì(ùëß)&nbsp;=&nbsp;</label>
                        <input type="text" name="func" id="func">
                    </div>
                    <div id="arrow">
                        <canvas id="arrowCanvas"></canvas>
                    </div>
                </div>
                <div class="board-container">
                    <div id="outputToolbar" class="toolbar">
                        <button id="dummyButtonSoCanvasesAlign" class="toolbar-button hidden"></button>
                    </div>
                    <canvas id="outputBoard"></canvas>
                </div>
            </div>
        </div>
        <!-- TODO: add loading animation with dynamic SVG of a Lima√ßon -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toolcool-color-picker/dist/toolcool-color-picker.min.js"></script>
        <script type="application/lua" src="lua/draw.lua" async></script>
        <script type="application/lua" src="lua/arrow.lua" async></script>

        <article id="tutorial">
            <!-- TODO: video tutorial -->
            <h2>Tutorial</h2>
            <section id="whatAmILookingAt">
                <h3>What am I even looking at?</h3>
                <p>
                The axes above represent two copies of the complex plane.
                Both are linked by a function typed in the center text field:
                the first one can be drawn on and is used as input, while the
                output is represented in the second one. But wait, you might say,
                how can squiggles be used as inputs to a complex function?
                I thought functions operated on numbers&#8230; or whatever complex numbers even are.
                </p>
                <p>
                The rest of the tutorial is here to explain <em>why</em> and <em>how</em> squiggles
                in the first axes are being mapped to squiggles in the second axes.
                </p>
            </section>

            <section id="whyDoThis">
                <h3>Why would anyone make this?</h3>
                <p>
                Complex function visualization is&#8230; well&#8230; complex. "Regular" ‚Ñù ‚Üí ‚Ñù functions
                are easy: just graph the output against the input. 2 dimensions, easily fits in our 3-dimensional
                world. Even ‚Ñù<sup>2</sup> ‚Üí ‚Ñù and ‚Ñù ‚Üí ‚Ñù<sup>2</sup> can be visualized like this.
                </p>
                <p>
                The complex plane, however, is 2-dimensional itself. If we wanted to graph output against input,
                we'd need 4 dimensions, so we have to be more creative with visualization. One well estabilished
                technique is <a href="https://en.wikipedia.org/wiki/Domain_coloring" target="_blank" title="Domain coloring Wikipedia article">domain coloring</a>,
                where you have a 2-dimensional output image whose pixels are mapped to points in the complex plane.
                The color of each pixel is then determined by the function value at that pixel's corresponding complex point,
                with the hue being mapped to the value's principal argument, and color intensity (or "value") being mapped
                to its absolute value.
                </p>
                <p>
                While domain coloring is useful, it has its limitations. For one, people with colorblindness
                can have some difficulty distinguishing regions in the image. For another, it's difficult to
                see structures that aren't centered around the origin. Sure, you can see if a path contains all
                hues and therefore makes a loop around the origin, but try to determine whether a path makes a
                loop around 1 + i <!-- TODO: use a MathQuill span for this --> and you're in for a very bad time.
                </p>
                <p>
                This project uses a different approach. I first saw this type of visualization in a
                <a href="https://youtu.be/pNp8Qf20-sA?t=206" target="_blank" title="Video inspiration for this whole project">Welch Labs YouTube video, timestamped here</a>:
                if you draw something in the input plane, then move the pixels according to the function at those
                points, the output image is distorted in a unique way depending on the given function. The whole video
                (really, the whole series) is worth a watch, even if you are already very familiar with complex numbers.
                </p>
            </section>
        </article>

        <footer>
            <div class="flex-centered-col flex-align-nostretch">
                <img id="poweredByLua" alt="Powered by Lua" title="Powered by Lua" src="img/powered-by-lua.png" />
            </div>
            <ul id="credits">
                <li>Idea and implementation by <a href="https://github.com/wqferr" target="_blank" title="Check out my other projects on GitHub">William Quelho Ferreira</a> <span class="credits-mdash">&mdash;</span> wqferr@gmail.com</li>
                <li>Toolbar UX by <a href="https://linktr.ee/anayagf" target="_blank" title="Check out her portfolio on linktr.ee">Anay√£ Gimenes Ferreira</a> <span class="credits-mdash">&mdash;</span> anayagimenes@gmail.com</li>
                <li>
                    Code help and rubber duckying by
                    <a href="https://github.com/gwenthekween" target="_blank" title="Check out her work on GitHub">Guinevere Larsen</a><!--
                    --><a href="https://en.wikipedia.org/wiki/Serial_comma" target="_blank">,</a> and
                    <a href="https://github.com/JJSax" target="_blank" title="Check out his other work on GitHub">Jared Augerot</a>
                </li>
                <li>JavaScript Lua VM by <a href="https://github.com/fengari-lua/fengari" target="_blank" title="Check out their work on GitHub">Fengari project</a></li>
            </ul>
        </footer>
    </main>
</body>
</html>
